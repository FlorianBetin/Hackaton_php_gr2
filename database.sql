-- MySQL Script generated by MySQL Workbench
-- Thu Nov 24 15:11:52 2022
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema backtrip
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema backtrip
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `backtrip` DEFAULT CHARACTER SET utf8 ;
USE `backtrip` ;

-- -----------------------------------------------------
-- Table `backtrip`.`Epoque`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `backtrip`.`Epoque` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(250) NOT NULL,
  `date` VARCHAR(100) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `backtrip`.`type_article`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `backtrip`.`type_article` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(250) NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `backtrip`.`article`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `backtrip`.`article` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(250) NOT NULL,
  `description` TEXT NULL,
  `Epoque_id` INT NOT NULL,
  `type_article_id` INT NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_article_Epoque_idx` (`Epoque_id` ASC) VISIBLE,
  INDEX `fk_article_type_article1_idx` (`type_article_id` ASC) VISIBLE,
  CONSTRAINT `fk_article_Epoque`
    FOREIGN KEY (`Epoque_id`)
    REFERENCES `backtrip`.`Epoque` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_article_type_article1`
    FOREIGN KEY (`type_article_id`)
    REFERENCES `backtrip`.`type_article` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `backtrip`.`formule`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `backtrip`.`formule` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(250) NOT NULL,
  `description` TEXT NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `backtrip`.`tarif`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `backtrip`.`tarif` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `montant` INT NULL,
  `formule_id` INT NOT NULL,
  `article_id` INT NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_tarif_formule1_idx` (`formule_id` ASC) VISIBLE,
  INDEX `fk_tarif_article1_idx` (`article_id` ASC) VISIBLE,
  CONSTRAINT `fk_tarif_formule1`
    FOREIGN KEY (`formule_id`)
    REFERENCES `backtrip`.`formule` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tarif_article1`
    FOREIGN KEY (`article_id`)
    REFERENCES `backtrip`.`article` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `backtrip`.`user`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `backtrip`.`user` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `firstName` VARCHAR(250) NULL,
  `lastName` VARCHAR(250) NULL,
  `e_mail` VARCHAR(250) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `backtrip`.`commande`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `backtrip`.`commande` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `user_id` INT NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_commande_user1_idx` (`user_id` ASC) VISIBLE,
  CONSTRAINT `fk_commande_user1`
    FOREIGN KEY (`user_id`)
    REFERENCES `backtrip`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `backtrip`.`article_has_commande`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `backtrip`.`article_has_commande` (
  `article_id` INT NOT NULL,
  `commande_id` INT NOT NULL,
  `quantite` INT NOT NULL,
  PRIMARY KEY (`article_id`, `commande_id`),
  INDEX `fk_article_has_commande_commande1_idx` (`commande_id` ASC) VISIBLE,
  INDEX `fk_article_has_commande_article1_idx` (`article_id` ASC) VISIBLE,
  CONSTRAINT `fk_article_has_commande_article1`
    FOREIGN KEY (`article_id`)
    REFERENCES `backtrip`.`article` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_article_has_commande_commande1`
    FOREIGN KEY (`commande_id`)
    REFERENCES `backtrip`.`commande` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

INSERT INTO type_article (`id`, `name`) VALUES
(1,"Personnalité historique"),
(2, "Evénement"), 
(3, "situation du quotidien");

INSERT INTO epoque (`id`, `name`, `date`) VALUES 
(1,"Préhistoire", "xx AVJ JC"),
(2,"Egypte antique", "xx AVJ JC"),
(3,"Rome Antique", "xx AVJ JC"),
(4,"Grèce antique", "xx AVJ JC"),
(5,"Moyen-âge", "xx AVJ JC"),
(6,"Renaissance - Temps modernes", "xx AVJ JC"),
(7,"Epoque contemporaine", "xx AVJ JC"),
(8,"20ème siècle", "xx AVJ JC");


INSERT INTO article (`id`, `name`, `description`, `Epoque_id`, `type_article_id`) VALUES 
(1,"Lucie","Lorem ipsum ",1,1),
(2,"Homme de Cro-Magnon","lorem ipsum",1,1),
(3,"Homme de Néandertal","lorem ipsum",1,1),
(4,"toutankhamon",NULL,2,1),
(5,"hatshepsout",NULL,2,1),
(6,"Cesar",NULL,3,1),
(7,"Auguste",NULL,3,1),
(8,"Spartacus",NULL,3,1),
(9,"Cléopâtre",NULL,3,1),
(10,"Socrate",NULL,4,1),
(11,"Sophocle",NULL,4,1),
(12,"Polus",NULL,4,1),
(13,"Clovis",NULL,5,1),
(14,"Anne de Bretagne",NULL,5,1),
(15,"Jeanne D'Arc",NULL,5,1),
(16,"Christophe Colomb",NULL,6,1),
(17,"Gutemberg",NULL,6,1),
(18,"Catherine de Médicis",NULL,6,1),
(19,"Louis XIV",NULL,6,1),
(20,"Molière",NULL,6,1),
(21,"Lully",NULL,6,1),
(22,"Shakespeare",NULL,6,1),
(23,"Mme de Montespan",NULL,6,1),
(24,"Toussaint Louverture",NULL,6,1),
(25,"Alexandre Dumas",NULL,6,1),
(26,"Napoléon",NULL,7,1),
(27,"Victor Hugo",NULL,7,1),
(28,"Gustave Eiffel",NULL,7,1),
(29,"Lavisse",NULL,7,1),
(30,"Jules Ferry",NULL,7,1),
(31,"Beethoven",NULL,7,1),
(32,"Edmond Rostand",NULL,7,1),
(33,"Marie Curie",NULL,8,1),
(34,"Pablo Picasso",NULL,8,1),
(35,"Frida Khalo",NULL,8,1),
(36,"W. Churchill",NULL,8,1),
(37,"G. De Gaulles",NULL,8,1),
(38,"Clémenceau",NULL,8,1),
(39,"Joséphine Baker",NULL,8,1),
(40,"Découverte du feu",NULL,1,2),
(41,"Fabrication d'outils",NULL,1,2),
(42,"Elevage - Agriculture",NULL,1,2),
(43,"Construction de la pyramide de Gizeh",NULL,2,2),
(44,"Unification Egypte du nord et du sud",NULL,2,2),
(45,"Couronnement de Cléopatre",NULL,3,2),
(46,"Chute de Pompeï",NULL,3,2),
(47,"assasinat de Cesar",NULL,3,2),
(48,"Avénement d'Auguste",NULL,3,2),
(49,"Bataille des Thermopyles",NULL,4,2),
(50,"Le banquet",NULL,4,2),
(51,"Jeux Olympiques à Delphes",NULL,4,2),
(52,"La grande peste",NULL,5,2),
(53,"Baptême de Clovis",NULL,5,2),
(54,"Le pillage de Paris par les vicking",NULL,5,2),
(55,"Découverte de l'Amérique",NULL,6,2),
(56,"Bataille de Marignan",NULL,6,2),
(57,"La révolution Française",NULL,6,2),
(58,"La commune",NULL,7,2),
(59,"Premier vol en Montgolfière",NULL,7,2),
(60,"Premier voyage en train",NULL,7,2),
(61,"Conquête du Far-West",NULL,7,2),
(62,"Première Guerre Mondiale",NULL,8,2),
(63,"Deuxième Guerre Mondiale",NULL,8,2),
(64,"Les années folles",NULL,8,2),
(65,"Premiers pas sur la lune",NULL,8,2),
(66,"Journée de chasse",NULL,1,3),
(67,"Construction d'un premier village",NULL,1,3),
(68,"Fabrication d'un outil en silex",NULL,1,3),
(69,"Scribe",NULL,2,3),
(70,"Ouvrier sur un chantier de pyramide",NULL,2,3),
(71,"Sénateur",NULL,3,3),
(72,"Viticulteur",NULL,3,3),
(73,"Participer à un combat de gladiateur",NULL,3,3),
(74,"Légionnaire",NULL,3,3),
(75,"Vestale",NULL,3,3),
(76,"Mineur d'argent",NULL,4,3),
(77,"Rameur de trirème",NULL,4,3),
(78,"Prière dans un temple",NULL,4,3),
(79,"Hilote",NULL,4,3),
(80,"Archonte",NULL,4,3),
(81,"Moine",NULL,5,3),
(82,"Paysan",NULL,5,3),
(83,"Carnaval",NULL,5,3),
(84,"Marché",NULL,5,3),
(85,"Verrier",NULL,6,3),
(86,"Drapier",NULL,6,3),
(87,"Pirate",NULL,6,3),
(88,"Courtisan du roi",NULL,6,3),
(89,"Mineur",NULL,7,3),
(90,"Orpailleur",NULL,7,3),
(91,"Galérien",NULL,7,3),
(92,"Soldat",NULL,7,3),
(93,"Voyager à bord du Titanic",NULL,8,3),
(94,"Concert des Beatles en live",NULL,8,3),
(95,"Revivre Woodstock",NULL,8,3);


INSERT INTO formule (`id`, `name`, `description`) VALUES 
(1,"Aller Simple", "Vous avez beaucoup d’argent et vous avez déshérité votre descendance ? Vous voulez un dernier voyage exaltant ? Vivre comme un pauvre paysan au moyen-âge serait peut être votre pénitence ! Dans tous les cas, notre formule aller-simple est là pour vous. Avant de partir pour l’autre monde, partez dans le passé. Nous nous occupons de votre dépouille mortuaire. 
"),
(2,"Deuxième Classe", "Les voyages dans le passé génétique excitent votre intelligence, et c'est tout ce dont vous avez besoin ! Votre corps peut bien souffrir de quelques crampes et quelques escarres, et se nourrir de perfusions… le savoir avant tout !
"),
(3,"Première Classe", "Explorer le passé, oui ! Mais revenir dans un corps détraqué, hors de question pour vous. Nan, il vous faut un lit moelleux cinq étoiles, des masseurs pour revigorer votre corps et des bains de lait et de miel. L’immersion dans la vie de Cléopâtre ne se fait pas en guenilles. Et même vivre la vie cocasse d’un gueux, ne vas dire qu’on veut en être un. La première classe vous fera voyager dans le passé, et votre corps restera un présent offert au monde.");

INSERT INTO tarif  (`id`, `montant`, `formule_id`, `article_id`) VALUES 
(1, 10, 1, 1),
(2, 50, 2, 1),
(3, 200, 3, 1),
(4, 10, 1, 2),
(5, 50, 2, 2),
(6, 200, 3, 2),
(7, 10, 1, 3),
(8, 50, 2, 3),
(9, 200, 3, 3),
(10,20, 1, 4),
(11, 70, 2, 4),
(12, 300, 3, 4),
(13, 30, 1, 5),
(14, 80, 2, 5),
(15, 500, 3, 5),
(16, 80, 1, 6),
(17, 90, 2, 6),
(18, 700, 3, 6),
(19, 80, 1, 7),
(20, 90, 2, 7),
(21, 700, 3, 7),
(22, 80, 1, 8),
(23, 90, 2, 8),
(24, 700, 3, 8),
(25, 90, 1, 9),
(26, 100, 2, 9),
(27, 800, 3, 9),
(28, 90, 1, 10),
(29, 100, 2, 10),
(30, 800, 3, 10),
(31, 90, 1, 11),
(32, 100, 2, 11),
(33, 800, 3, 11),
(34, 90, 1, 12),
(35, 100, 2, 12),
(36, 800, 3, 12),
(37, 90, 1, 13),
(38, 100, 2, 13),
(39, 800, 3, 13),
(40, 100, 1, 14),
(41, 120, 2, 14),
(42, 130, 3, 14),
(43, 100, 1, 15),
(44, 120, 2, 15),
(45, 130, 3, 15),
(46, 100, 1, 16),
(47, 120, 2, 16),
(48, 130, 3, 16),
(49, 100, 1, 17),
(50, 120, 2, 17),
(51, 130, 3, 17),
(52, 100, 1, 18),
(53, 120, 2, 18),
(54, 130, 3, 18),
(55, 120, 1, 19),
(56, 150, 2, 19),
(57, 180, 3, 19),
(58, 120, 1, 20),
(59, 150, 2, 20),
(60, 180, 3, 20),
(61, 120, 1, 21),
(62, 150, 2, 21),
(63, 180, 3, 21),
(64, 120, 1, 22),
(65, 150, 2, 22),
(66, 180, 3, 22),
(67, 130, 1, 23),
(68, 190, 2, 23),
(69, 220, 3, 23),
(70, 130, 1, 24),
(71, 190, 2, 24),
(72, 220, 3, 24),
(73, 130, 1, 25),
(74, 190, 2, 25),
(75, 220, 3, 25),
(76, 130, 1, 26),
(77, 190, 2, 26),
(78, 220, 3, 26),
(79, 130, 1, 27),
(80, 190, 2, 27),
(81, 220, 3, 27),
(82, 140, 1, 28),
(83, 200, 2, 28),
(84, 230, 3, 28),
(85, 140, 1, 29),
(86, 200, 2, 29),
(87, 230, 3, 29),
(88, 140, 1, 30),
(89, 200, 2, 30),
(90, 230, 3, 30),
(91, 140, 1, 31),
(92, 200, 2, 31),
(93, 230, 3, 31),
(94, 140, 1, 32),
(95, 200, 2, 32),
(96, 230, 3, 32),
(97, 150, 1, 33),
(98, 220, 2, 33),
(99, 260, 3, 33),
(100, 150, 1, 34),
(101, 220, 2, 34),
(102, 260, 3, 34),
(103, 150, 1, 35),
(104, 220, 2, 35),
(105, 260, 3, 35),
(106, 150, 1, 36),
(107, 220, 2, 36),
(108, 260, 3, 36),
(109, 150, 1, 37),
(110, 220, 2, 37),
(111, 260, 3, 37),
(112, 180, 1, 38),
(113, 240, 2, 38),
(114, 280, 3, 38),
(115, 180, 1, 39),
(116, 240, 2, 39),
(117, 280, 3, 39),
(118, 180, 1, 40),
(119, 240, 2, 40),
(120, 280, 3, 40),
(121, 180, 1, 41),
(122, 240, 2, 41),
(123, 280, 3, 41),
(124, 180, 1, 42),
(125, 240, 2, 42),
(126, 280, 3, 42),
(127, 180, 1, 43),
(128, 240, 2, 43),
(129, 280, 3, 43),
(130, 200, 1, 44),
(131, 260, 2, 44),
(132, 300, 3, 44),
(133, 200, 1, 45),
(134, 260, 2, 45),
(135, 300, 3, 45),
(136, 200, 1, 46),
(137, 260, 2, 46),
(138, 300, 3, 46),
(139, 200, 1, 47),
(140, 260, 2, 47),
(141, 300, 3, 47),
(142, 10, 1, 48),
(143, 50, 2, 48),
(144, 200, 3, 48),
(145, 10, 1, 49),
(146, 50, 2, 49),
(147, 200, 3, 49),
(148, 10, 1, 50),
(149, 50, 2, 50),
(150, 200, 3, 50),
(151, 20, 1, 51),
(152, 70, 2, 51),
(153, 300, 3, 51),
(154, 30, 1, 52),
(155, 80, 2, 52),
(156, 500, 3, 52),
(157, 80, 1, 53),
(158, 90, 2, 53),
(159, 700, 3, 53),
(160, 80, 1, 54),
(161, 90, 2, 54),
(162, 700, 3, 54),
(163, 80, 1, 55),
(164, 90, 2, 55),
(165, 700, 3, 55),
(166, 90, 1, 56),
(167, 100, 2, 56),
(168, 800, 3, 56),
(169, 90, 1, 57),
(170, 100, 2, 57),
(171, 800, 3, 57),
(172, 90, 1, 58),
(173, 100, 2, 58),
(174, 800, 3, 58),
(175, 90, 1, 59),
(176, 100, 2, 59),
(177, 800, 3, 59),
(178, 90, 1, 60),
(179, 100, 2, 60),
(180, 800, 3, 60),
(181, 100, 1, 61),
(182, 120, 2, 61),
(183, 130, 3, 61),
(184, 100, 1, 62),
(185, 120, 2, 62),
(186, 130, 3, 62),
(187, 100, 1, 63),
(188, 120, 2, 63),
(189, 130, 3, 63),
(190, 100, 1, 64),
(191, 120, 2, 64),
(192, 130, 3, 64),
(193, 100, 1, 65),
(194, 120, 2, 65),
(195, 130, 3, 65),
(196, 120, 1, 66),
(197, 150, 2, 66),
(198, 180, 3, 66),
(199, 120, 1, 67),
(200, 150, 2, 67),
(201, 180, 3, 67),
(202, 120, 1, 68),
(203, 150, 2, 68),
(204, 180, 3, 68),
(205, 120, 1, 69),
(206, 150, 2, 69),
(207, 180, 3, 69),
(208, 130, 1, 70),
(209, 190, 2, 70),
(210, 220, 3, 70),
(211, 130, 1, 71),
(212, 190, 2, 71),
(213, 220, 3, 71),
(214, 130, 1, 72),
(215, 190, 2, 72),
(216, 220, 3, 72),
(217, 130, 1, 73),
(218, 190, 2, 73),
(219, 220, 3, 73),
(220, 130, 1, 74),
(221, 190, 2, 74),
(222, 220, 3, 74),
(223, 140, 1, 75),
(224, 200, 2, 75),
(225, 230, 3, 75),
(226, 140, 1, 76),
(227, 200, 2, 76),
(228, 230, 3, 76),
(229, 140, 1, 77),
(230, 200, 2, 77),
(231, 230, 3, 77),
(232, 140, 1, 78),
(233, 200, 2, 78),
(234, 230, 3, 78),
(235, 140, 1, 79),
(236, 200, 2, 79),
(237, 230, 3, 79),
(238, 150, 1, 80),
(239, 220, 2, 80),
(240, 260, 3, 80),
(241, 150, 1, 81),
(242, 220, 2, 81),
(243, 260, 3, 81),
(244, 150, 1, 82),
(245, 220, 2, 82),
(246, 260, 3, 82),
(247, 150, 1, 83),
(248, 220, 2, 83),
(249, 260, 3, 83),
(250, 150, 1, 84),
(251, 220, 2, 84),
(252, 260, 3, 84),
(253, 180, 1, 85),
(254, 240, 2, 85),
(255, 280, 3, 85),
(256, 180, 1, 86),
(257, 240, 2, 86),
(258, 280, 3, 86),
(259, 180, 1, 87),
(260, 240, 2, 87),
(261, 280, 3, 87),
(262, 180, 1, 88),
(263, 240, 2, 88),
(264, 280, 3, 88),
(265, 180, 1, 89),
(266, 240, 2, 89),
(267, 280, 3, 89),
(268, 180, 1, 90),
(269, 240, 2, 90),
(270, 280, 3, 90),
(271, 200, 1, 91),
(272, 260, 2, 91),
(273, 300, 3, 91),
(274, 200, 1, 92),
(275, 260, 2, 92),
(276, 300, 3, 92),
(277, 200, 1, 93),
(278, 260, 2, 93),
(279, 300, 3, 93),
(280, 200, 1, 94),
(281, 260, 2, 94),
(282, 300, 3, 94),
(283, 200, 1, 95),
(284, 260, 2, 95),
(285, 300, 3, 95);


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;